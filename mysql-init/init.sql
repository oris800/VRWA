-- Create the database if it doesn't exist
CREATE DATABASE IF NOT EXISTS app;
USE app;

-- Create tables
CREATE TABLE admins (
  id INT PRIMARY KEY,
  name VARCHAR(255),
  password VARCHAR(255)
);

CREATE TABLE products (
  id INT PRIMARY KEY,
  name VARCHAR(255),
  release_year INT,
  price DECIMAL(10, 2),
  img VARCHAR(255),
  category VARCHAR(255),
  show_on_page INT,
  stock INT,
  hidden INT,
  description TEXT
);

CREATE TABLE users (
  id INT PRIMARY KEY,
  username VARCHAR(255),
  password VARCHAR(255),
  security_question VARCHAR(255),
  security_answer VARCHAR(255),
  money INT,
  internal INT,
  is_dev INT,
  dev_token VARCHAR(255),
  dev_password VARCHAR(255),
  does_own_qun INT
);

CREATE TABLE comments (
  id INT PRIMARY KEY,
  product_id INT,
  user_id INT,
  comment_text TEXT,
  comment_date DATETIME
);

-- Insert initial data into tables (your full data dump)
INSERT INTO admins VALUES (1, 'admin', '2424b5fe85d4c50cf04daf345531e28f');
INSERT INTO products VALUES (1,'Commodore 64',1982,595.00,'/static/imgs/products/img_product_1.jpg','Computer',0,1,0,'The best-selling home computer of all time. Unleash 64KB of power and legendary SID chip sound. A true icon of the 80s.'),(2,'Amiga 500',1987,699.00,'/static/imgs/products/img_product_2.jpg','Computer',1,1,0,'The creative powerhouse. With its advanced graphics and sound, the Amiga 500 changed gaming and digital art forever. Experience the magic.'),(3,'Atari 2600',1977,199.00,'/static/imgs/products/img_product_3.jpg','Console',0,1,0,'The console that started it all. Simple woodgrain, a classic joystick, and a library of unforgettable games. Pure, uncut nostalgia.'),(5,'Apple IIe',1983,750.00,'/static/imgs/products/img_product_5.jpg','Computer',1,1,0,'A legend from the garage that stormed into classrooms and homes. Reliable, expandable, and the machine that built an empire. Think different, even back then.'),(6,'IBM PC 5150',1981,950.00,'/static/imgs/products/img_product_6.jpg','Computer',0,1,0,'The original. The blueprint for the modern PC. This is where it all began for business computing. Serious hardware for serious work (and a bit of gaming).'),(8,'Amstrad CPC 464',1984,420.00,'/static/imgs/products/img_product_8.jpg','Computer',0,1,0,'The all-in-one wonder with its integrated cassette deck and vibrant green-screen monitor. A beloved British classic that made computing accessible.'),(9,'Atari CX40 Joystick',1977,25.00,'/static/imgs/products/img_product_9.jpg','Peripheral',0,1,0,'The unmistakable click, the iconic red button. The one and only way to truly experience Atari classics. Your wrist will never be the same.'),(10,'Commodore 1541 Floppy Drive',1982,180.00,'/static/imgs/products/img_product_10.jpg','Peripheral',1,1,0,'The sound of a generation. Hear the unmistakable grind and whirl of the 1541 as it loads your favorite games. Patience is a virtue.'),(11,'Sound Blaster 16',1992,120.00,'/static/imgs/products/img_product_11.jpg','Peripheral',0,1,0,'Upgrade your PC from beeps and boops to a full orchestral experience. The card that gave PC gaming its voice. Game Over? Not with this sound.'),(12,'Doom (PC)',1993,59.00,'/static/imgs/products/img_product_12.jpg','Game',1,0,0,'Grab your shotgun, it\'s time to fight demons on Mars. The game that defined the First-Person Shooter genre. IDDQD.'),(13,'The Secret of Monkey Island',1990,45.00,'/static/imgs/products/img_product_13.jpg','Game',0,1,0,'A swashbuckling adventure filled with insult sword fighting, grog, and a three-headed monkey. The pinnacle of point-and-click comedy.'),(14,'The Legend of Zelda (NES)',1986,49.00,'/static/imgs/products/img_product_14.jpg','Game',0,1,0,'It\'s dangerous to go alone! Take this. Your epic adventure to save Hyrule and Princess Zelda starts here. A golden cartridge of pure magic.'),(15,'Super Mario Bros. 3 (NES)',1988,55.00,'/static/imgs/products/img_product_15.jpg','Game',1,1,0,'Is it a game or a stage play? With the Tanooki Suit, Kuribo\'s Shoe, and countless secrets, this is platforming perfection.'),(16,'Sonic the Hedgehog (Genesis)',1991,50.00,'/static/imgs/products/img_product_16.jpg','Game',1,1,0,'Way past cool! Blast through Green Hill Zone at supersonic speeds. The game that gave SEGA its attitude. Gotta go fast!'),(17,'Street Fighter II (SNES)',1992,65.00,'/static/imgs/products/img_product_17.jpg','Game',0,1,0,'HADOKEN! The king of the arcade comes home. Choose your fighter and battle for global supremacy. The definitive fighting game.'),(18,'Pac-Man (Atari 2600)',1982,30.00,'/static/imgs/products/img_product_18.jpg','Game',1,1,0,'Wocka wocka wocka. The arcade phenomenon on your home console. Chase ghosts, eat dots, and aim for the high score.'),(19,'Space Invaders (Atari 2600)',1980,30.00,'/static/imgs/products/img_product_19.jpg','Game',0,1,0,'The alien horde is descending! Move your laser cannon and defend the Earth in this timeless arcade classic. Pew pew!'),(20,'Tetris (Game Boy)',1989,40.00,'/static/imgs/products/img_product_20.jpg','Game',0,1,0,'The perfect puzzle game. Simple to learn, impossible to master. The reason millions of batteries were drained worldwide.'),(21,'Elite (C64)',1984,35.00,'/static/imgs/products/img_product_21.jpg','Game',0,1,0,'Command your Cobra Mk III, trade across the galaxy, and become Elite. An entire universe on a single floppy disk. Right on, Commander.'),(22,'Windows 3.1',1992,149.00,'/static/imgs/products/img_product_22.jpg','Software',1,1,0,'The moment the PC became user-friendly. With Program Manager, File Manager, and the legendary Solitaire. The start of a new era.'),(23,'Deluxe Paint II (Amiga)',1986,99.00,'/static/imgs/products/img_product_23.jpg','Software',0,1,0,'The ultimate pixel art toolkit. The software behind the iconic art of countless Amiga games. Let your creativity run wild.'),(24,'Windows 1.0',1985,99.00,'/static/imgs/products/img_product_24.jpg','Software',1,1,0,'See where the revolution began. A graphical shell for MS-DOS, complete with windows, icons, and the Reversi game. A true collector\'s item.'),(25,'Windows 2.0',1987,79.00,'/static/imgs/products/img_product_25.jpg','Software',1,1,0,'An evolution of the GUI. Overlapping windows and improved performance bring more power to your desktop. Featuring the debut of Excel and Word for Windows.'),(26,'5.25\" Floppy Disk (10-Pack)',1984,15.00,'/static/imgs/products/img_product_26.jpg','Peripheral',1,1,0,'The original save icon. Store a whopping 360KB of data on these classic flexible disks. Handle with care! (10-Pack).'),(27,'MS-DOS 3.3',1987,69.00,'/static/imgs/products/img_product_27.jpg','Software',1,1,0,'The rock-solid foundation for a generation of computing. Master the command prompt and feel the raw power of your PC. C:>_'),(28,'MS-DOS 6.22',1994,89.00,'/static/imgs/products/img_product_28.jpg','Software',0,1,0,'The final and most feature-rich standalone version of DOS. Includes ScanDisk, Defrag, and DoubleSpace to get the most out of your hard drive.'),(99,'Quantum Computer',2028,15000000.00,'/static/imgs/computers/Quantum computing.png','Supercomputer',0,1,1,'NULL');
INSERT INTO users VALUES (1123,'alice','7535a3b0c3cc718f5f2043833a3e3050','Favorite color?','blue',126,0,0,NULL,NULL,0),(1516,'bob','966312e335d9fcfa293dcd2b0e334343','First pet name?','fluffy',266,0,0,NULL,NULL,0),(1623,'charlie','fa246d0262c3925617b0c72bb20eeb1d','City of birth?','new york',402,0,0,NULL,NULL,0),(1998,'david','7802e908ca851e464c338e1802951f55','Favorite food?','pizza',161,0,0,NULL,NULL,0),(2048,'eve','2573c808b72c87143ff2ca3b5fa0fc02','What is 1+1?','2',549,0,0,NULL,NULL,0),(2381,'guest','084e0343a0486ff05530df6c705c8bb4','Favorite color?','red',775,1,0,NULL,NULL,0),(3354,'customer35','fcb4283aece26b43942927aa4411d4b1','*$@^Y@$@!!#^@$^@$^!@!!!$@$#!%','!$!#%$^@$^@&^$&^##^%HETHGGGGDD',63,0,1,'f4a5c3b8d0e6f1a2b7c9d8e3f4a5b6c7','81dc9bdb52d04dc20036dbd8313ed055',0),(3456,'frank','caf0fc369f551d89ad9001d2309e8d76','City of birth?','london',363,0,0,NULL,NULL,0),(3776,'grace','e1cef6d55609fe79a85d532286ff9b9e','First pet name?','shadow',129,0,0,NULL,NULL,0),(4208,'heidi','da7ff263127702b6b3b0e3407e667651','Favorite food?','sushi',508,0,0,NULL,NULL,0),(4321,'ivan','ab51cd41e203cc1391b4a6e8055adb8c','What is 2+2?','4',105,0,0,NULL,NULL,0),(4815,'judy','7ce2e1d1c2bf18d08024254e8675200a','Favorite color?','green',451,0,0,NULL,NULL,0),(5543,'mallory','2223556e3732bfe25fa544130da79724','First pet name?','buddy',388,1,0,NULL,NULL,0),(5892,'mike','50d9760c96af628128171f918b6d7194','City of birth?','tokyo',540,0,0,NULL,NULL,0),(6007,'nancy','a9544c2b25d2969d90e1884b8afca684','Favorite food?','burger',484,0,0,NULL,NULL,0),(6652,'oscar','3d61c332c221340a1ba3d940e917fc0f','What is 3+3?','6',252,0,0,NULL,NULL,0),(7331,'peggy','96819cb4946116ecb5bb7f8598878871','Favorite color?','yellow',258,0,0,NULL,NULL,0),(7890,'quentin','434a8af1bf208d6201a7f42b6c5c1d23','First pet name?','max',486,0,0,NULL,NULL,0),(8129,'rupert','926f4f6e9c748a49edfbe99f81e12c31','City of birth?','paris',104,0,0,NULL,NULL,0),(8200,'trudy','5a73d4b8afde87908ab0c1c352c94c65','What is your favorite Metroidvania game that came out in 2025?','Hollow Knight: Silksong',513,1,0,NULL,NULL,0),(8842,'victor','d47e7b172319b07de33724896b10c081','Favorite movie?','The Matrix',204,0,0,NULL,NULL,0),(9014,'walter','f96269b902359a1cfca7f6d59f1a5560','Favorite food?','pasta',431,0,0,NULL,NULL,0),(9981,'wendy','6851965d75d40074f4def613c0f06755','Favorite color?','black',496,0,0,NULL,NULL,0),(9999,'carlos','084e0343a0486ff05530df6c705c8bb4','&^#@!*()$@%^@#$!@#$%',' #@!%^&*()_+|}{POIUYTREWQ',0,0,1,'01d7f022848b55e321583a8b23c21a43','81dc9bdb52d04dc20036dbd8313ed055',1);
INSERT INTO comments VALUES (27,1,1123,'Takes me right back to my childhood. The SID chip sounds as glorious as ever. 10/10.','2025-09-07 22:04:01'),(28,1,1623,'Arrived in pristine condition. It\'s amazing to play games like \'Maniac Mansion\' on the original hardware again.','2025-09-07 22:04:01'),(29,1,8129,'LOAD \"*\",8,1. The magic words. Everything works perfectly. A fantastic piece of computing history.','2025-09-07 22:04:01'),(30,2,4208,'The creative powerhouse! Fired up Deluxe Paint II and it was a total nostalgia trip. This machine was way ahead of its time.','2025-09-07 22:04:01'),(31,2,5892,'Finally got my hands on one. The custom chips for graphics and sound are incredible. Gaming on this is a dream.','2025-09-07 22:04:01'),(32,3,1516,'Pure, simple, fun. The woodgrain finish is iconic. Paired it with the CX40 joystick and it\'s perfect.','2025-09-07 22:04:01'),(33,3,3776,'Showed this to my kids and they were hooked on \'Pitfall!\'. Proof that good gameplay never gets old.','2025-09-07 22:04:01'),(34,5,1998,'The machine that started it all for so many. Built like a tank and runs like a charm. Playing \'The Oregon Trail\' feels so authentic.','2025-09-07 22:04:01'),(35,5,6007,'An essential part of my vintage computer collection. The open architecture is amazing for tinkering.','2025-09-07 22:04:01'),(36,6,3456,'The original blueprint. The satisfying clack of the keyboard is worth the price alone. A serious machine for a serious collector.','2025-09-07 22:04:01'),(37,6,6652,'Running original MS-DOS and some classic CGA games. It\'s a fantastic experience.','2025-09-07 22:04:01'),(38,8,4321,'The all-in-one design with the built-in tape deck is so clever. The green screen is incredibly sharp and iconic.','2025-09-07 22:04:01'),(39,8,4815,'A beloved British classic. I\'m having a great time exploring its unique game library.','2025-09-07 22:04:01'),(40,9,7890,'You can\'t play Atari without one of these. The feel is unmistakable. My wrist hurts, but it\'s worth it!','2025-09-07 22:04:01'),(41,9,9014,'Bought a second one for 2-player \'Combat\'. They just don\'t make them like this anymore.','2025-09-07 22:04:01'),(42,10,9981,'The sound of this drive is the sound of my youth. It\'s slow, it\'s loud, and it\'s perfect.','2025-09-07 22:04:01'),(43,10,8842,'Works great with my C64. Loading games from floppy is so much better than tape.','2025-09-07 22:04:01'),(44,11,1123,'The difference is night and day. My old DOS games have never sounded better. A must-have for any retro PC build.','2025-09-07 22:04:01'),(45,11,1998,'GAME OVER! The voice samples are crystal clear. This card gave the PC its voice.','2025-09-07 22:04:01'),(46,12,2048,'The game that defined a genre. Still holds up today. IDDQD.','2025-09-07 22:04:01'),(47,12,1623,'Grabbed this for my retro rig. It\'s fast, brutal, and endlessly replayable.','2025-09-07 22:04:01'),(48,13,3456,'I\'m Bobbin Threadbare, are you my mother? The humor is as sharp as ever. Best adventure game ever made.','2025-09-07 22:04:01'),(49,13,3776,'A swashbuckling classic. The insult sword fighting is genius.','2025-09-07 22:04:01'),(50,14,4208,'It\'s dangerous to go alone! Take this. The golden cartridge is a thing of beauty. A true adventure.','2025-09-07 22:04:01'),(51,14,6007,'The birth of a legend. The sense of exploration is still unmatched.','2025-09-07 22:04:01'),(52,15,5892,'Platforming perfection. The sheer amount of secrets and power-ups is staggering. The Tanooki Suit is the best.','2025-09-07 22:04:01'),(53,15,7331,'Every level is a masterpiece of design. This is a must-own for any NES owner.','2025-09-07 22:04:01'),(54,16,4815,'Gotta go fast! The speed and attitude of this game were revolutionary. Green Hill Zone is iconic.','2025-09-07 22:04:01'),(55,16,7890,'SEGA at its absolute best. The blast processing is real!','2025-09-07 22:04:01'),(56,17,8129,'HADOKEN! The definitive fighting game. The SNES port is legendary and plays like a dream.','2025-09-07 22:04:01'),(57,17,9014,'Still settling scores with friends on this. Choose your fighter!','2025-09-07 22:04:01'),(58,18,9981,'Wocka wocka wocka! It\'s not the arcade, but it\'s a fun and challenging version. A piece of history.','2025-09-07 22:04:01'),(59,18,8842,'The game that caused a phenomenon. Simple, addictive, and timeless.','2025-09-07 22:04:01'),(60,19,1516,'Pew pew! Defending the earth one pixelated alien at a time. The sound design is legendary.','2025-09-07 22:04:01'),(61,19,1123,'A timeless classic. It gets faster and faster... so tense!','2025-09-07 22:04:01'),(62,20,1623,'The perfect puzzle game. Simple to learn, impossible to master. The reason I bought a Game Boy in the first place.','2025-09-07 22:04:01'),(63,20,4208,'This game is a work of genius. The music will be stuck in my head forever.','2025-09-07 22:04:01'),(64,21,3456,'Right on, Commander. An entire galaxy on one floppy disk. The sense of freedom is incredible.','2025-09-07 22:04:01'),(65,21,5892,'Still trying to achieve that \'Elite\' ranking. A masterpiece of procedural generation.','2025-09-07 22:04:01'),(66,22,3776,'The start of the modern PC era. Comes with Solitaire, so it\'s a 10/10 from me.','2025-09-07 22:04:01'),(67,22,4815,'Set this up on my old PC. Program Manager and File Manager are a blast from the past.','2025-09-07 22:04:01'),(68,23,4321,'The software that defined the look of a generation of games. Still an incredibly powerful pixel art tool.','2025-09-07 22:04:01'),(69,23,7331,'So intuitive and fun to use. The animation features were groundbreaking.','2025-09-07 22:04:01'),(70,24,7890,'A true collector\'s item. It\'s amazing to see the humble beginnings of the world\'s most popular OS.','2025-09-07 22:04:01'),(71,24,8129,'Got this running in a virtual machine. The tiled windows are a unique feature of this version.','2025-09-07 22:04:01'),(72,25,9014,'A nice evolution from 1.0. Overlapping windows! The debut of Excel and Word was a game-changer.','2025-09-07 22:04:01'),(73,25,8842,'An important step in the history of the GUI. Fun to play around with.','2025-09-07 22:04:01'),(74,26,6652,'The original save icon! Needed these for my Apple IIe. They work perfectly.','2025-09-07 22:04:01'),(75,26,1123,'Handle with care! A 10-pack of pure nostalgia. 360KB of raw power.','2025-09-07 22:04:01'),(76,27,1516,'The rock-solid foundation for so many classic PCs. C:> format c:','2025-09-07 22:04:01'),(77,27,1623,'Installed this on an old IBM clone. Pure, unfiltered command-line computing.','2025-09-07 22:04:01'),(78,28,1998,'The final and greatest version. DoubleSpace, Defrag, ScanDisk... it had everything!','2025-09-07 22:04:01'),(79,28,3456,'The peak of DOS. Essential for getting a retro gaming PC up and running.','2025-09-07 22:04:01'),(80,99,5543,'Finally, a machine that can run Crysis. A bit loud, but the results are worth it.','2025-09-07 22:04:03'),(81,99,8200,'Used it to brute force the answer to my security question, which I forgot. It worked! Now what was my favorite Metroidvania game that came out in 2025 again?','2025-09-07 22:04:03');


-- ####################################################################
-- ## APPLY THE REQUESTED PASSWORD AND DATA CHANGES AT THE END ##
-- ####################################################################

-- 1. Update the admin password to be the unencrypted string 'retro123'
UPDATE admins
SET 
    password = 'retro123'
WHERE 
    name = 'admin';

-- 2. Update the 'guest' user's password to a new random, strong MD5 hash
UPDATE users 
SET 
    password = '1e4b308e421038542289c5b4d3a04a0e' -- MD5 hash of a new random password
WHERE 
    username = 'guest';

-- 3. Update the 'carlos' user's password to a new random, strong MD5 hash
UPDATE users 
SET 
    password = '2b036667181347600757917e7502758f' -- MD5 hash of a new random password
WHERE 
    username = 'carlos';


UPDATE users 
SET 
    dev_password = CASE 
        WHEN username = 'carlos' THEN 'f5c02452b508588523286f378036181f' -- New random hash for carlos
        WHEN username = 'customer35' THEN 'a7e58451834b6e8d69f0e74f35865a79' -- New random hash for customer35
    END
WHERE 
    username IN ('carlos', 'customer35');